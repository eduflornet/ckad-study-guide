{
  "files": [
    {
      "name": "users",
      "transformations": [
        {
          "type": "filter",
          "conditions": [
            {
              "field": "active",
              "operator": "equals",
              "value": true
            }
          ]
        },
        {
          "type": "enrich",
          "calculated_fields": {
            "full_name": {
              "type": "concatenate",
              "fields": ["name"],
              "separator": " "
            },
            "processed_at": {
              "type": "timestamp"
            },
            "user_category": {
              "type": "constant",
              "value": "standard"
            }
          }
        }
      ]
    },
    {
      "name": "transactions",
      "transformations": [
        {
          "type": "filter",
          "conditions": [
            {
              "field": "status",
              "operator": "equals",
              "value": "completed"
            },
            {
              "field": "amount",
              "operator": "greater_than",
              "value": 0
            }
          ]
        },
        {
          "type": "aggregate",
          "group_by": ["user_id"],
          "aggregations": {
            "amount": ["sum", "mean", "count"],
            "id": ["count"]
          }
        },
        {
          "type": "enrich",
          "calculated_fields": {
            "processed_at": {
              "type": "timestamp"
            }
          }
        }
      ]
    },
    {
      "name": "products",
      "transformations": [
        {
          "type": "enrich",
          "calculated_fields": {
            "processed_at": {
              "type": "timestamp"
            },
            "category_normalized": {
              "type": "constant",
              "value": "general"
            }
          }
        }
      ]
    }
  ]
}